

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Tutorial Examples &mdash; lms2 0.1.2+46.g4417f26.dirty documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="How to build the documentation ?" href="builddoc.html" />
    <link rel="prev" title="Installation steps" href="installation.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> lms2
          

          
            
            <img src="_static/LogoUPS.jpg" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation steps</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation.html#installing-python-distribution-anaconda">Installing Python distribution (Anaconda)</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#install-lms2-from-source">Install LMS2 from source</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Tutorial Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#working-with-pyomo">Working with Pyomo</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#simple-example-using-pyomo-language">1) Simple example using pyomo language</a></li>
<li class="toctree-l3"><a class="reference internal" href="#working-with-abstract-model">2) working with abstract model</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#working-with-lms2-library-components">Working with lms2 library components</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#example-of-model-by-aggregating-blocks-of-the-library">1) Example of model by aggregating blocks of the library</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-of-a-block">2) Example of a block</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="builddoc.html">How to build the documentation ?</a></li>
</ul>
<p class="caption"><span class="caption-text">API Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="lms2.html">Library</a><ul>
<li class="toctree-l2"><a class="reference internal" href="lms2.base.html">Base</a><ul>
<li class="toctree-l3"><a class="reference internal" href="generated/lms2.base.base_units.html">base_units</a><ul>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.base.base_units.bound_profile.html">lms2.base.base_units.bound_profile</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.base.base_units.fix_profile.html">lms2.base.base_units.fix_profile</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.base.base_units.DynUnit.html">DynUnit</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.base.base_units.EffortSource.html">EffortSource</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.base.base_units.FixedFlowLoad.html">FixedFlowLoad</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.base.base_units.FixedFlowSource.html">FixedFlowSource</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.base.base_units.FlowLoad.html">FlowLoad</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.base.base_units.FlowSource.html">FlowSource</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.base.base_units.TwoFlowUnit.html">TwoFlowUnit</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="generated/lms2.base.utils.html">utils</a><ul>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.base.utils.get_doc_2.html">lms2.base.utils.get_doc_2</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.base.utils.pplot.html">lms2.base.utils.pplot</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lms2.core.html">Core</a><ul>
<li class="toctree-l3"><a class="reference internal" href="generated/lms2.core.models.html">models</a><ul>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.core.models.AbsLModel.html">AbsLModel</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.core.models.LModel.html">LModel</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="generated/lms2.core.time.html">time</a><ul>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.core.time.Time.html">Time</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="generated/lms2.core.units.html">units</a><ul>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.core.units.Unit.html">Unit</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lms2.economic.html">Economic</a><ul>
<li class="toctree-l3"><a class="reference internal" href="generated/lms2.economic.cost.html">cost</a><ul>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.economic.cost.buying_cost.html">lms2.economic.cost.buying_cost</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.economic.cost.def_absolute_cost.html">lms2.economic.cost.def_absolute_cost</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.economic.cost.def_bilinear_cost.html">lms2.economic.cost.def_bilinear_cost</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.economic.cost.def_bilinear_dynamic_cost.html">lms2.economic.cost.def_bilinear_dynamic_cost</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.economic.cost.def_linear_cost.html">lms2.economic.cost.def_linear_cost</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.economic.cost.def_linear_dyn_cost.html">lms2.economic.cost.def_linear_dyn_cost</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.economic.cost.maintenance_cost.html">lms2.economic.cost.maintenance_cost</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.economic.cost.recycling_cost.html">lms2.economic.cost.recycling_cost</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.economic.cost.replacement_cost.html">lms2.economic.cost.replacement_cost</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lms2.electric.html">Electric</a><ul>
<li class="toctree-l3"><a class="reference internal" href="generated/lms2.electric.batteries.html">batteries</a><ul>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.electric.batteries.BatteryV0.html">BatteryV0</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.electric.batteries.BatteryV1.html">BatteryV1</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.electric.batteries.BatteryV2.html">BatteryV2</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.electric.batteries.NLBattery.html">NLBattery</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="generated/lms2.electric.maingrids.html">maingrids</a><ul>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.electric.maingrids.def_pin_pout.html">lms2.electric.maingrids.def_pin_pout</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.electric.maingrids.MainGridV0.html">MainGridV0</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.electric.maingrids.MainGridV1.html">MainGridV1</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.electric.maingrids.MainGridV2.html">MainGridV2</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="generated/lms2.electric.sources.html">sources</a><ul>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.electric.sources.DebugSource.html">DebugSource</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.electric.sources.FixedPowerLoad.html">FixedPowerLoad</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.electric.sources.FixedPowerSource.html">FixedPowerSource</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.electric.sources.PVPanels.html">PVPanels</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.electric.sources.PowerLoad.html">PowerLoad</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.electric.sources.PowerSource.html">PowerSource</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.electric.sources.ProgrammableLoad.html">ProgrammableLoad</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.electric.sources.ScalablePowerLoad.html">ScalablePowerLoad</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.electric.sources.ScalablePowerSource.html">ScalablePowerSource</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lms2.environment.html">Environment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="generated/lms2.environment.ghg.html">ghg</a><ul>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.environment.ghg.def_linear_ghg_cost.html">lms2.environment.ghg.def_linear_ghg_cost</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lms2.fluids.html">Fluids</a><ul>
<li class="toctree-l3"><a class="reference internal" href="generated/lms2.fluids.modelCO2.html">modelCO2</a><ul>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.fluids.modelCO2.ModelCO2.html">ModelCO2</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.fluids.modelCO2.ModelCO2_bis.html">ModelCO2_bis</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lms2.logical.html">Logical</a><ul>
<li class="toctree-l3"><a class="reference internal" href="generated/lms2.logical.hysteresis.html">hysteresis</a><ul>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.logical.hysteresis.Hysteresis.html">Hysteresis</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lms2.mechanic.html">Mechanic</a><ul>
<li class="toctree-l3"><a class="reference internal" href="generated/lms2.mechanic.gears.html">gears</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lms2.thermal.html">Thermal</a><ul>
<li class="toctree-l3"><a class="reference internal" href="generated/lms2.thermal.dipoles.html">dipoles</a><ul>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.thermal.dipoles.TCond.html">TCond</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.thermal.dipoles.TCondRes.html">TCondRes</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.thermal.dipoles.TConvRes.html">TConvRes</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.thermal.dipoles.TDipole.html">TDipole</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.thermal.dipoles.TResNL.html">TResNL</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/lms2.thermal.dipoles.TStorage.html">TStorage</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="moduleindex.html">Indices and tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">lms2</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Tutorial Examples</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/examples.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="tutorial-examples">
<h1>Tutorial Examples<a class="headerlink" href="#tutorial-examples" title="Permalink to this headline">¶</a></h1>
<div class="section" id="working-with-pyomo">
<h2>Working with Pyomo<a class="headerlink" href="#working-with-pyomo" title="Permalink to this headline">¶</a></h2>
<p>The LMS2 library is based on the pyomo package. Some references for documentation, exercices and examples :</p>
<p>-Documentation on the pyomo language is available at : <a class="reference external" href="http://www.pyomo.org/documentation/">http://www.pyomo.org/documentation/</a>
-Get started with Pyomo : <a class="reference external" href="https://github.com/Pyomo/PyomoGettingStarted">https://github.com/Pyomo/PyomoGettingStarted</a>
-Gallery of state-of-the-art optimization problem : <a class="reference external" href="https://github.com/Pyomo/PyomoGallery">https://github.com/Pyomo/PyomoGallery</a>
-Pyomo Workshop, slides + exercices + solutions (2018) : <a class="reference external" href="http://www.pyomo.org/workshop-examples">http://www.pyomo.org/workshop-examples</a></p>
<div class="section" id="simple-example-using-pyomo-language">
<h3>1) Simple example using pyomo language<a class="headerlink" href="#simple-example-using-pyomo-language" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Creating an basic Model using pyomo package</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">AbsLModel</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Model&#39;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">v</span> <span class="o">=</span> <span class="n">Var</span><span class="p">(</span><span class="n">doc</span><span class="o">=</span><span class="s1">&#39;a viariable&#39;</span><span class="p">,</span> <span class="n">within</span><span class="o">=</span><span class="n">NonNegativeIntegers</span><span class="p">)</span>

<span class="n">m</span><span class="o">.</span><span class="n">p</span> <span class="o">=</span> <span class="n">Param</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s1">&#39;a parameter&#39;</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">c</span> <span class="o">=</span> <span class="n">Param</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s1">&#39;cost associated to variable &quot;v&quot;&#39;</span><span class="p">)</span>

<span class="n">m</span><span class="o">.</span><span class="n">cst</span> <span class="o">=</span> <span class="n">Constraint</span><span class="p">(</span><span class="n">expr</span><span class="o">=</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">m</span><span class="o">.</span><span class="n">v</span><span class="o">*</span><span class="n">m</span><span class="o">.</span><span class="n">p</span> <span class="o">&lt;=</span> <span class="mi">15</span><span class="p">)</span>
<span class="n">m</span><span class="o">.</span><span class="n">obj</span> <span class="o">=</span> <span class="n">Objective</span><span class="p">(</span><span class="n">expr</span><span class="o">=</span><span class="n">m</span><span class="o">.</span><span class="n">c</span><span class="o">*</span><span class="n">m</span><span class="o">.</span><span class="n">v</span><span class="p">,</span> <span class="n">sense</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Creating an instance of this model and print it using <cite>pprint()</cite> :</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">inst</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">create_instance</span><span class="p">()</span>
<span class="n">inst</span><span class="o">.</span><span class="n">pprint</span><span class="p">()</span>

<span class="mi">2</span> <span class="n">Param</span> <span class="n">Declarations</span>
<span class="n">c</span> <span class="p">:</span> <span class="n">cost</span> <span class="n">associated</span> <span class="n">to</span> <span class="n">variable</span> <span class="s2">&quot;v&quot;</span>
    <span class="n">Size</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">Index</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">Domain</span><span class="o">=</span><span class="n">Any</span><span class="p">,</span> <span class="n">Default</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">Mutable</span><span class="o">=</span><span class="bp">False</span>
    <span class="n">Key</span> <span class="p">:</span> <span class="n">Value</span>
<span class="n">p</span> <span class="p">:</span> <span class="n">a</span> <span class="n">parameter</span>
    <span class="n">Size</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">Index</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">Domain</span><span class="o">=</span><span class="n">Any</span><span class="p">,</span> <span class="n">Default</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">Mutable</span><span class="o">=</span><span class="bp">False</span>
    <span class="n">Key</span> <span class="p">:</span> <span class="n">Value</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">1</span> <span class="n">Var</span> <span class="n">Declarations</span>
<span class="o">&gt;&gt;&gt;</span>     <span class="n">v</span> <span class="p">:</span> <span class="n">a</span> <span class="n">viariable</span>
<span class="o">&gt;&gt;&gt;</span>         <span class="n">Size</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">Index</span><span class="o">=</span><span class="bp">None</span>
<span class="o">&gt;&gt;&gt;</span>         <span class="n">Key</span>  <span class="p">:</span> <span class="n">Lower</span> <span class="p">:</span> <span class="n">Value</span> <span class="p">:</span> <span class="n">Upper</span> <span class="p">:</span> <span class="n">Fixed</span> <span class="p">:</span> <span class="n">Stale</span> <span class="p">:</span> <span class="n">Domain</span>
<span class="o">&gt;&gt;&gt;</span>         <span class="bp">None</span> <span class="p">:</span>     <span class="mi">0</span> <span class="p">:</span>  <span class="bp">None</span> <span class="p">:</span>  <span class="bp">None</span> <span class="p">:</span> <span class="bp">False</span> <span class="p">:</span>  <span class="bp">True</span> <span class="p">:</span> <span class="n">NonNegativeIntegers</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">1</span> <span class="n">Objective</span> <span class="n">Declarations</span>
<span class="o">&gt;&gt;&gt;</span>     <span class="n">obj</span> <span class="p">:</span> <span class="n">Size</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">Index</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">Active</span><span class="o">=</span><span class="bp">True</span>
<span class="o">&gt;&gt;&gt;</span>         <span class="n">Key</span>  <span class="p">:</span> <span class="n">Active</span> <span class="p">:</span> <span class="n">Sense</span>    <span class="p">:</span> <span class="n">Expression</span>
<span class="o">&gt;&gt;&gt;</span>         <span class="bp">None</span> <span class="p">:</span>   <span class="bp">True</span> <span class="p">:</span> <span class="n">minimize</span> <span class="p">:</span>        <span class="n">c</span><span class="o">*</span><span class="n">v</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">1</span> <span class="n">Constraint</span> <span class="n">Declarations</span>
<span class="o">&gt;&gt;&gt;</span>     <span class="n">cst</span> <span class="p">:</span> <span class="n">Size</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">Index</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">Active</span><span class="o">=</span><span class="bp">True</span>
<span class="o">&gt;&gt;&gt;</span>         <span class="n">Key</span>  <span class="p">:</span> <span class="n">Lower</span> <span class="p">:</span> <span class="n">Body</span> <span class="p">:</span> <span class="n">Upper</span> <span class="p">:</span> <span class="n">Active</span>
<span class="o">&gt;&gt;&gt;</span>         <span class="bp">None</span> <span class="p">:</span>   <span class="mf">0.0</span> <span class="p">:</span>  <span class="n">p</span><span class="o">*</span><span class="n">v</span> <span class="p">:</span>  <span class="mf">15.0</span> <span class="p">:</span>   <span class="bp">True</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">5</span> <span class="n">Declarations</span><span class="p">:</span> <span class="n">v</span> <span class="n">p</span> <span class="n">c</span> <span class="n">cst</span> <span class="n">obj</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Solving the problem :</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyomo.environ</span> <span class="kn">import</span> <span class="n">SolverFactory</span>
<span class="n">opt</span> <span class="o">=</span> <span class="n">SolverFactory</span><span class="p">(</span><span class="s2">&quot;glpk&quot;</span><span class="p">)</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">opt</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">inst</span><span class="p">,</span> <span class="n">tee</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

<span class="n">inst</span><span class="o">.</span><span class="n">v</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mf">1.0</span>
</pre></div>
</div>
</div>
<div class="section" id="working-with-abstract-model">
<h3>2) working with abstract model<a class="headerlink" href="#working-with-abstract-model" title="Permalink to this headline">¶</a></h3>
<p>Lms2 is based on abstract models that allows a clear separation between the mathematical model and data (i.e. values of parameters, set or initial values). see : <a class="reference external" href="https://pyomo.readthedocs.io/en/latest/working_abstractmodels/index.html">https://pyomo.readthedocs.io/en/latest/working_abstractmodels/index.html</a> for more details.</p>
<ul class="simple">
<li><p>Here an example of instantiating our example using different data</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="bp">None</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;p&#39;</span><span class="p">:</span> <span class="p">{</span><span class="bp">None</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span>
               <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="p">{</span><span class="bp">None</span><span class="p">:</span> <span class="mi">2</span><span class="p">}}}</span>


<span class="n">inst2</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">create_instance</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="working-with-lms2-library-components">
<h2>Working with lms2 library components<a class="headerlink" href="#working-with-lms2-library-components" title="Permalink to this headline">¶</a></h2>
<p>Pyomo supports an object-oriented design for the definition of optimization models. The basic steps of a simple modeling process are:</p>
<ul class="simple">
<li><p>Create model and declare components</p></li>
<li><p>Instantiate the model</p></li>
<li><p>Apply solver</p></li>
<li><p>Interrogate solver results</p></li>
</ul>
<p>Lms2 library gather mathematical models described using the pyomo mathematical language. All components, e.g. batteries, distribution grid, sources and charges are based on classes that inherite from pyomo Simple Blocks. Available models are classified based on their fields, such as electric, thermal, economic, environement, etc.</p>
<p>Models are then created by aggregating blocks and create connexion, i.e. creating constraints between variable from different block, or gathering objectives of different blocks.</p>
<p>The time is modeled as a continuous set by means of the modeling extension pyomo.dae (See : <a class="reference external" href="https://pyomo.readthedocs.io/en/latest/modeling_extensions/dae.html">https://pyomo.readthedocs.io/en/latest/modeling_extensions/dae.html</a>. For now, all blocks has his own time set.</p>
<div class="section" id="example-of-model-by-aggregating-blocks-of-the-library">
<h3>1) Example of model by aggregating blocks of the library<a class="headerlink" href="#example-of-model-by-aggregating-blocks-of-the-library" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="example-of-a-block">
<h3>2) Example of a block<a class="headerlink" href="#example-of-a-block" title="Permalink to this headline">¶</a></h3>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="builddoc.html" class="btn btn-neutral float-right" title="How to build the documentation ?" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="installation.html" class="btn btn-neutral float-left" title="Installation steps" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015-2019, lms2 Developers

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>